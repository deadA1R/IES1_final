C51 COMPILER V9.60.7.0   FINAL_PROJECT                                                     11/12/2023 02:58:09 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE FINAL_PROJECT
OBJECT MODULE PLACED IN .\Objects\final_project.obj
COMPILER INVOKED BY: D:\Keli\C51\BIN\C51.EXE final_project.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\final_project.lst) TABS(2) OBJECT(.\Objects\final_project.obj)

line level    source

   1          #include <reg51.h>
   2          
   3          unsigned char floor; 
   4          unsigned char targetFloor = 0; 
   5          unsigned char callButtons = 0; 
   6          
   7          unsigned char displayValues[] = {0xC0, 0xF9, 0xA4, 0xB0, 0x99, 0x92, 0x82, 0xF8, 0x80};
   8          
   9          
  10          void moveElevator() {
  11   1          if (floor < targetFloor) {
  12   2              floor++;
  13   2          } else if (floor > targetFloor) {
  14   2              floor--;
  15   2          }
  16   1          targetFloor = floor; 
  17   1      }
  18          
  19          void checkCallButtons() {
  20   1          unsigned char i;
  21   1          for (i = 0; i < 8; i++) {
  22   2              if ((callButtons & (1 << i)) != 0) {
  23   3                  targetFloor = i;
  24   3                  break;
  25   3              }
  26   2          }
  27   1      }
  28          
  29          void main (void) {
  30   1          unsigned char SW;
  31   1          while(1) {
  32   2              SW = P1;
  33   2              callButtons = P3;
  34   2              if (floor == targetFloor) {
  35   3                  checkCallButtons();
  36   3                  switch(SW) {
  37   4                      case(1):
  38   4                      {
  39   5                          targetFloor = 0;
  40   5                          break;
  41   5                      }
  42   4                      case(2):
  43   4                      {
  44   5                          targetFloor = 1;
  45   5                          break;
  46   5                      }
  47   4                      case(4):
  48   4                      {
  49   5                          targetFloor = 2;
  50   5                          break;
  51   5                      }
  52   4                      case(8):
  53   4                      {
  54   5                          targetFloor = 3;
C51 COMPILER V9.60.7.0   FINAL_PROJECT                                                     11/12/2023 02:58:09 PAGE 2   

  55   5                          break;
  56   5                      }
  57   4                      case(16):
  58   4                      {
  59   5                          targetFloor = 4;
  60   5                          break;
  61   5                      }
  62   4                      case(32):
  63   4                      {
  64   5                          targetFloor = 5;
  65   5                          break;
  66   5                      }
  67   4                      case(64):
  68   4                      {
  69   5                          targetFloor = 6;
  70   5                          break;
  71   5                      }
  72   4                      case(128):
  73   4                      {
  74   5                          targetFloor = 7;
  75   5                          break;
  76   5                      }
  77   4                  }
  78   3              }
  79   2              moveElevator();
  80   2              P0 = displayValues[floor + 1];  
  81   2              P2 = 1 << floor; 
  82   2          }
  83   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    173    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     12    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
